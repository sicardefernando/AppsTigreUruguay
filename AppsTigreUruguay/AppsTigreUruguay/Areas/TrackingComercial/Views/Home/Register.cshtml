@{
    ViewBag.Title = "Registro de Usuario";
}

<h2>Registrar nuevo usuario</h2>

@if (ViewBag.Error != null)
{
    <div class="alert alert-danger">@ViewBag.Error</div>
}

@if (ViewBag.Mensaje != null)
{
    <div class="alert alert-success">@ViewBag.Mensaje</div>
}

<form method="post" asp-action="Register" asp-controller="Home" class="needs-validation" novalidate>
    <div class="mb-3">
        <label for="usuario" class="form-label">Usuario</label>
        <input type="text" id="usuario" name="usuario" class="form-control" required />
        <div class="invalid-feedback">Ingrese un nombre de usuario.</div>
    </div>

    <div class="mb-3">
        <label for="clave" class="form-label">Contraseña</label>
        <input type="password" id="clave" name="clave" class="form-control" required />
        <div class="invalid-feedback">Ingrese una contraseña.</div>
    </div>

    <div class="mb-3">
        <label for="confirmarClave" class="form-label">Confirmar Contraseña</label>
        <input type="password" id="confirmarClave" name="confirmarClave" class="form-control" required />
        <div class="invalid-feedback">Confirme la contraseña.</div>
    </div>

    <div class="mb-3">
        <label for="claveAdmin" class="form-label">Clave de Administrador</label>
        <input type="password" id="claveAdmin" name="claveAdmin" class="form-control" required />
        <div class="invalid-feedback">Ingrese la clave de administrador.</div>
    </div>

    <button type="submit" class="btn btn-primary">Registrar</button>
</form>

<script>
    // Bootstrap validation (opcional)
    (() => {
        'use strict'
        const forms = document.querySelectorAll('.needs-validation')
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', e => {
                if (!form.checkValidity()) {
                    e.preventDefault()
                    e.stopPropagation()
                }
                form.classList.add('was-validated')
            }, false)
        })
    })()
</script>
